"use strict";function Controller(){this._checkboxActivate=function(e,o){e.addEventListener("change",function(){this.active?o.classList.add("active"):o.classList.remove("active")})},this._ProgressState=function(e,o,t){document.addEventListener("click",function(r){var n=o.contains(r.target),s=e.contains(r.target);n?s?t.classList.remove("active"):t.classList.add("active"):t.classList.remove("active")})},this._ProgressTracker=function(e,o){var t=this;this.progressBar=o,this.inputs=e,this.inputs.forEach(function(e){e.element=document.querySelector(e.selector),e.added=!1,e.isValid=null,e.element.oninput=function(){e.isValid=t._determineStatus(e),t._adjustProgressIfNecessary(e)}}),this._determineStatus=function(e){var o=!1;o=e.element.value.length>0;try{o=o&&e.element.validate()}catch(e){console.log(e)}return o},this._adjustProgressIfNecessary=function(e){var o=this.progressBar.value;e.added&&!e.isValid?(o-=e.amount,e.added=!1):!e.added&&e.isValid&&(o+=e.amount,e.added=!0),this.progressBar.value=o}}}function initAutocomplete(){autocomplete=new google.maps.places.Autocomplete(document.getElementById("event-address"),{types:["geocode"]}),autocomplete.addListener("place_changed",fillInAddress),autocomplete2=new google.maps.places.Autocomplete(document.getElementById("diff-geo-address"),{types:["geocode"]}),autocomplete2.addListener("place_changed",function(){fillInAddress()})}function fillInAddress(){autocomplete.getPlace()}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var o={lat:e.coords.latitude,lng:e.coords.longitude},t=new google.maps.Circle({center:o,radius:e.coords.accuracy});autocomplete.setBounds(t.getBounds())})}Model={rButton:document.getElementById("registerButton"),lButton:document.getElementById("loginButton"),lFormButton:document.getElementById("signInPw"),lFormRegButton:document.getElementById("accountReg"),pInfo:document.getElementById("personalInfo"),gInfo:document.getElementById("guestInfo"),loginContainer:document.querySelector("#logIn"),regContainer:document.querySelector("#registrationForm"),regInputContainer:document.querySelector(".regInput"),pInfoContainer:document.querySelector("#personalInfoContainer"),eventOptContainer:document.querySelector("#eventOptionalContainer"),loginProgressBar:document.querySelector("#progressLogin"),regProgressBar:document.querySelector("#progress-reg"),regProgressBarOpt:document.querySelector("#progress-reg-optional"),inputs:[{selector:"#loginEmail",amount:50},{selector:"#loginPassword",amount:50}],inputsReg:[{selector:"#regUserName",amount:25},{selector:"#regEmail",amount:25},{selector:"#regPassword",amount:25},{selector:"#regSecondPass",amount:25}],inputsRegOpt:[{selector:"#reg-occupation",amount:25},{selector:"#reg-birthday",amount:25},{selector:"#reg-appuse",amount:25},{selector:"#diff-geo-address",amount:25}]},View={pCheckbox:(new Controller)._checkboxActivate(Model.pInfo,Model.pInfoContainer),gCheckbox:(new Controller)._checkboxActivate(Model.gInfo,Model.eventOptContainer),logProgressHide:(new Controller)._ProgressState(Model.lButton,Model.loginContainer,Model.loginProgressBar),regProgressHide:(new Controller)._ProgressState(Model.rButton,Model.regInputContainer,Model.regProgressBar),regOptProgressHide:(new Controller)._ProgressState(Model.pInfo,Model.pInfoContainer,Model.regProgressBarOpt),progressTracker:(new Controller)._ProgressTracker(Model.inputs,Model.loginProgressBar),progressBarReg:(new Controller)._ProgressTracker(Model.inputsReg,Model.regProgressBar),progressBarRegOpt:(new Controller)._ProgressTracker(Model.inputsRegOpt,Model.regProgressBarOpt)};var placeSearch,autocomplete,componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImdlb2xvY2F0ZS5qcyJdLCJuYW1lcyI6WyJjaGVja0NvbnRhaW5lciIsInRoaXMiLCJfY2hlY2tib3hBY3RpdmF0ZSIsImNoZWNrQnV0dG9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFjdGl2ZSIsIl9Qcm9ncmVzc1N0YXRlIiwiY2xhc3NMaXN0IiwiYnV0dG9uIiwiZG9jdW1lbnQiLCJyZW1vdmUiLCJhUHJvZ3Jlc3MiLCJhQ29udGFpbmVyIiwiZXZlbnQiLCJpc0NsaWNrSW5zaWRlIiwiY29udGFpbnMiLCJ0YXJnZXQiLCJidXR0b25DbGljayIsInByb2dyZXNzQmFyIiwiaW5wdXRzIiwiZm9yRWFjaCIsImFkZCIsImlucHV0Iiwic2VsZiIsIl9kZXRlcm1pbmVTdGF0dXMiLCJfYWRqdXN0UHJvZ3Jlc3NJZk5lY2Vzc2FyeSIsImlzVmFsaWQiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0b3IiLCJhZGRlZCIsInZhbHVlIiwiZWxlbWVudCIsIm9uaW5wdXQiLCJjb25zb2xlIiwibGVuZ3RoIiwibmV3QW1vdW50IiwidmFsaWRhdGUiLCJhbW91bnQiLCJpbml0QXV0b2NvbXBsZXRlIiwiYXV0b2NvbXBsZXRlIiwiZ29vZ2xlIiwibWFwcyIsInBsYWNlcyIsIkF1dG9jb21wbGV0ZSIsImdldEVsZW1lbnRCeUlkIiwidHlwZXMiLCJhZGRMaXN0ZW5lciIsImZpbGxJbkFkZHJlc3MiLCJhdXRvY29tcGxldGUyIiwiZ2V0UGxhY2UiLCJnZW9sb2NhdGUiLCJuYXZpZ2F0b3IiLCJnZW9sb2NhdGlvbiIsImdldEN1cnJlbnRQb3NpdGlvbiIsInBvc2l0aW9uIiwibGF0IiwiY29vcmRzIiwibGF0aXR1ZGUiLCJsbmciLCJsb25naXR1ZGUiLCJjaXJjbGUiLCJDaXJjbGUiLCJjZW50ZXIiLCJyYWRpdXMiLCJhY2N1cmFjeSIsInNldEJvdW5kcyIsImdldEJvdW5kcyIsIk1vZGVsIiwickJ1dHRvbiIsImxCdXR0b24iLCJsRm9ybUJ1dHRvbiIsImxGb3JtUmVnQnV0dG9uIiwibG9naW5Db250YWluZXIiLCJyZWdDb250YWluZXIiLCJyZWdJbnB1dENvbnRhaW5lciIsImxvZ2luUHJvZ3Jlc3NCYXIiLCJyZWdQcm9ncmVzc0JhciIsImlucHV0c1JlZyIsImdDaGVja2JveCIsInJlZ09wdFByb2dyZXNzSGlkZSIsIkNvbnRyb2xsZXIiLCJwSW5mbyIsImdJbmZvIiwiZXZlbnRPcHRDb250YWluZXIiLCJwcm9ncmVzc0JhclJlZyIsIl9Qcm9ncmVzc1RyYWNrZXIiLCJwcm9ncmVzc0JhclJlZ09wdCIsImlucHV0c1JlZ09wdCIsInJlZ1Byb2dyZXNzQmFyT3B0IiwicEluZm9Db250YWluZXIiLCJwcm9ncmVzc1RyYWNrZXIiLCJwbGFjZVNlYXJjaCIsImNvbXBvbmVudEZvcm0iLCJzdHJlZXRfbnVtYmVyIiwicm91dGUiLCJsb2NhbGl0eSIsImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMSIsImNvdW50cnkiLCJwb3N0YWxfY29kZSJdLCJtYXBwaW5ncyI6IllBaUlVQSxTQUFBQSxjQU5OQyxLQUFBQyxrQkFBQSxTQUFBQyxFQUFBSCxHQUNFRyxFQUFZQyxpQkFBaUIsU0FBVSxXQVV6Q0gsS0FBQUksT0FDS0MsRUFBaUJDLFVBQVVDLElBQUFBLFVBRzlCQyxFQUFTTCxVQUFpQk0sT0FBUyxhQU83QkMsS0FBQUEsZUFBVUosU0FBaUJDLEVBQTNCSSxFQUFBRCxHQUlERixTQUFBTCxpQkFBQSxRQUFBLFNBQUFTLEdBWEwsR0FBQUMsR0FBQUYsRUFBQUcsU0FBQUYsRUFBQUcsUUFIRkMsRUFBQVQsRUFBQU8sU0FBQUYsRUFBQUcsT0FNV0YsR0FjRUcsRUFDTkMsRUFBTFgsVUFBbUJXLE9BQW5CLFVBR0tDLEVBQU9DLFVBQVFDLElBQVVDLFVBTmhDWCxFQUFBSixVQUFBRyxPQUFBLGFBWU1ZLEtBQUFBLGlCQUFnQkMsU0FBS0MsRUFBaUJGLEdBQ3RDQyxHQUFBQSxHQUFLRSxJQUNOeEIsTUFIRGlCLFlBQUFBLEVBTEZqQixLQUFBa0IsT0FBQUEsRUFXQWxCLEtB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QU1TLE1BZm5FRCxrQkFnQlBXLGlCQUFBQSxHQUFvQk4sYUFBQTFFLGVBQWlCK0UsTUFBaUJsQixRQUFNb0IsTUFBQUEsa0JBQW9CQyxNQUFBQSxnQkFMaEZULG9CQUFvQixHQUFJQyxhQUFhMUUsZUFBZTZELE1BQU1jLE1BQU9kLE1BQU1zQixlQUFnQnRCLE1BQU1xQixtQkFTN0ZFLGlCQUFBLEdBQUFWLGFBQUFLLGlCQUFBbEIsTUFBQWhELE9BQUFnRCxNQUFBUSxrQkFMQVMsZ0JBQWlCLEdBQUlKLGFBQWFLLGlCQUFpQmxCLE1BQU1VLFVBQVdWLE1BQU1TLGdCQUMxRVUsbUJBQW9CLEdBQUlOLGFBQWFLLGlCQUFpQmxCLE1BQU1vQixhQUFjcEIsTUFBTXFCLG1CQ2xHNUUsSUFBSUcsYUFBYXBELGFBQ2JxRCxlQUNGQyxjQUFlLGFBQ2ZDLE1BQU8sWUFDUEMsU0FBVSxZQUNWQyw0QkFBNkIsYUFDN0JDLFFBQVMsWUFDVEMsWUFBYSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcclxuXHJcblRoaXMgZG9jdW1lbnQgY29udGFpbnMgdGhlIG1haW4gamF2YXNjcmlwdCBmb3IgdGhlIGV2ZW50IHBsYW5uZXIgYXBwbGljYXRpb25cclxuXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gXHJcblxyXG5NVkMgc3RhcnRcclxuXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuLyo9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gXHJcblxyXG4gIE1vZGVsXHJcblxyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG5cclxuICAvLyBtb3N0IGRhdGEgaXMgaGVsZCBleHRlcm5hbGx5IGluIGZpcmViYXNlIGFuZCB3aXRoaW4gdGhlIHBvbHltZXIgZG9tIGZpbGVzXHJcbiAgXHJcbiAgTW9kZWwgPSB7XHJcblxyXG4gICAgLy8gYnV0dG9uIGVsZW1lbnRzXHJcbiAgICByQnV0dG9uIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWdpc3RlckJ1dHRvblwiKSxcclxuICAgIGxCdXR0b24gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ2luQnV0dG9uXCIpLFxyXG4gICAgbEZvcm1CdXR0b24gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNpZ25JblB3XCIpLFxyXG4gICAgbEZvcm1SZWdCdXR0b24gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjY291bnRSZWdcIiksXHJcbiAgICBwSW5mbyA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGVyc29uYWxJbmZvXCIpLFxyXG4gICAgZ0luZm8gOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1ZXN0SW5mb1wiKSxcclxuXHJcbiAgICAvLyBjb250YWluZXIgZWxlbWVudHNcclxuICAgIGxvZ2luQ29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvZ0luJyksXHJcbiAgICByZWdDb250YWluZXIgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVnaXN0cmF0aW9uRm9ybScpLFxyXG4gICAgcmVnSW5wdXRDb250YWluZXIgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVnSW5wdXQnKSxcclxuICAgIHBJbmZvQ29udGFpbmVyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BlcnNvbmFsSW5mb0NvbnRhaW5lcicpLFxyXG4gICAgZXZlbnRPcHRDb250YWluZXI6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNldmVudE9wdGlvbmFsQ29udGFpbmVyJyksXHJcblxyXG4gICAgLy8gcHJvZ3Jlc3MgYXJzIFxyXG4gICAgbG9naW5Qcm9ncmVzc0JhciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9ncmVzc0xvZ2luJyksXHJcbiAgICByZWdQcm9ncmVzc0JhciA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9ncmVzcy1yZWcnKSxcclxuICAgIHJlZ1Byb2dyZXNzQmFyT3B0IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Byb2dyZXNzLXJlZy1vcHRpb25hbCcpLFxyXG5cclxuICAgICAvLyBwcm9ncmVzcyBhciBpbnB1dHMgYXJyYXlzXHJcbiAgICBpbnB1dHMgOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBzZWxlY3RvcjogJyNsb2dpbkVtYWlsJyxcclxuICAgICAgICBhbW91bnQ6IDUwXHJcbiAgICAgIH0sIHtcclxuICAgICAgICBzZWxlY3RvcjogJyNsb2dpblBhc3N3b3JkJyxcclxuICAgICAgICBhbW91bnQ6IDUwXHJcbiAgICAgIH1cclxuICAgIF0sXHJcblxyXG4gICAgLy8gcmVnaXN0cmF0aW9uIGZvcm0gaW5wdXRzXHJcbiAgICBpbnB1dHNSZWcgOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBzZWxlY3RvcjogJyNyZWdVc2VyTmFtZScsXHJcbiAgICAgICAgYW1vdW50OiAyNVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjcmVnRW1haWwnLFxyXG4gICAgICAgIGFtb3VudDogMjVcclxuICAgICAgfSwge1xyXG4gICAgICAgIHNlbGVjdG9yOiAnI3JlZ1Bhc3N3b3JkJyxcclxuICAgICAgICBhbW91bnQ6IDI1XHJcbiAgICAgIH0sIHtcclxuICAgICAgICBzZWxlY3RvcjogJyNyZWdTZWNvbmRQYXNzJyxcclxuICAgICAgICBhbW91bnQ6IDI1XHJcbiAgICAgIH0gICAgXHJcbiAgICBdLFxyXG5cclxuICAgIC8vIHJlZ2lzdHJhdGlvbiBmb3JtIGlucHV0c1xyXG4gICAgaW5wdXRzUmVnT3B0IDogW1xyXG4gICAgICB7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjcmVnLW9jY3VwYXRpb24nLFxyXG4gICAgICAgIGFtb3VudDogMjVcclxuICAgICAgfSwge1xyXG4gICAgICAgIHNlbGVjdG9yOiAnI3JlZy1iaXJ0aGRheScsXHJcbiAgICAgICAgYW1vdW50OiAyNVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjcmVnLWFwcHVzZScsXHJcbiAgICAgICAgYW1vdW50OiAyNVxyXG4gICAgICB9LCB7XHJcbiAgICAgICAgc2VsZWN0b3I6ICcjZGlmZi1nZW8tYWRkcmVzcycsXHJcbiAgICAgICAgYW1vdW50OiAyNVxyXG4gICAgICB9ICAgIFxyXG4gICAgXVxyXG4gIH07XHJcblxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxyXG5cclxuICBWaWV3XHJcblxyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xyXG4gICAgXHJcbiAgVmlldyA9IHtcclxuXHJcbiAgLy8gZ2VuZXJhdGVzIHZpZXcgZWxlbWVudHNcclxuICBcclxuICAvLyBnZW5lcmF0ZXMgY2hlY2tib3ggY29uc3RydWN0b3Igb2JqZWN0c1xyXG4gIHBDaGVja2JveCA6IG5ldyBDb250cm9sbGVyKCkuX2NoZWNrYm94QWN0aXZhdGUoTW9kZWwucEluZm8sIE1vZGVsLnBJbmZvQ29udGFpbmVyKSxcclxuICBnQ2hlY2tib3ggOiBuZXcgQ29udHJvbGxlcigpLl9jaGVja2JveEFjdGl2YXRlKE1vZGVsLmdJbmZvLCBNb2RlbC5ldmVudE9wdENvbnRhaW5lciksXHJcblxyXG4gIC8vIHByb2dyZXNzU3RhdGUgY29uc3RydWN0b3Igb2JqZWN0c1xyXG4gIGxvZ1Byb2dyZXNzSGlkZTogbmV3IENvbnRyb2xsZXIoKS5fUHJvZ3Jlc3NTdGF0ZShNb2RlbC5sQnV0dG9uLCBNb2RlbC5sb2dpbkNvbnRhaW5lciwgTW9kZWwubG9naW5Qcm9ncmVzc0JhciksXHJcbiAgcmVnUHJvZ3Jlc3NIaWRlOiBuZXcgQ29udHJvbGxlcigpLl9Qcm9ncmVzc1N0YXRlKE1vZGVsLnJCdXR0b24sIE1vZGVsLnJlZ0lucHV0Q29udGFpbmVyLCBNb2RlbC5yZWdQcm9ncmVzc0JhciksXHJcbiAgcmVnT3B0UHJvZ3Jlc3NIaWRlOiBuZXcgQ29udHJvbGxlcigpLl9Qcm9ncmVzc1N0YXRlKE1vZGVsLnBJbmZvLCBNb2RlbC5wSW5mb0NvbnRhaW5lciwgTW9kZWwucmVnUHJvZ3Jlc3NCYXJPcHQpLFxyXG5cclxuICAvLyByZWdpc3RyYXRpb24gcHJvZ3Jlc3MgdHJhY2tlciBjb25zdHJ1Y3RvciBvYmplY3RzXHJcbiAgcHJvZ3Jlc3NUcmFja2VyIDogbmV3IENvbnRyb2xsZXIoKS5fUHJvZ3Jlc3NUcmFja2VyKE1vZGVsLmlucHV0cywgTW9kZWwubG9naW5Qcm9ncmVzc0JhciksXHJcbiAgcHJvZ3Jlc3NCYXJSZWcgOiBuZXcgQ29udHJvbGxlcigpLl9Qcm9ncmVzc1RyYWNrZXIoTW9kZWwuaW5wdXRzUmVnLCBNb2RlbC5yZWdQcm9ncmVzc0JhciksXHJcbiAgcHJvZ3Jlc3NCYXJSZWdPcHQgOiBuZXcgQ29udHJvbGxlcigpLl9Qcm9ncmVzc1RyYWNrZXIoTW9kZWwuaW5wdXRzUmVnT3B0LCBNb2RlbC5yZWdQcm9ncmVzc0Jhck9wdCksXHJcbiAgXHJcbiAgfTsgICAgXHJcblxyXG4gIC8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxyXG5cclxuICBDb250cm9sbGVyIE9iamVjdHNcclxuXHJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4gIGZ1bmN0aW9uIENvbnRyb2xsZXIoKXtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byBhY3RpdmF0ZSBjaGVja2JveCBjb250YWluZXJzXHJcbiAgICB0aGlzLl9jaGVja2JveEFjdGl2YXRlID0gZnVuY3Rpb24gKGNoZWNrQnV0dG9uLCBjaGVja0NvbnRhaW5lcikge1xyXG4gICAgICBjaGVja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlKSB7XHJcbiAgICAgICAgICBjaGVja0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBjaGVja0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBmdW5jdGlvbiB0byBtYW5hZ2UgcHJvZ3Jlc3MgYmFyIHN0YXRlc1xyXG4gICAgdGhpcy5fUHJvZ3Jlc3NTdGF0ZSA9IGZ1bmN0aW9uIChidXR0b24sIGFDb250YWluZXIsIGFQcm9ncmVzcykge1xyXG5cclxuICAgIC8vIGZvbGxvd2luZyBmdW5jdGlvbiBleHRlbmRlZCBmcm9tIGZvbGxvd2luZyBzdGFja292ZXJmbG93IHBvc3Q6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQxODg2NTQvZGV0ZWN0LWNsaWNrLW91dHNpZGUtZWxlbWVudC12YW5pbGxhLWphdmFzY3JpcHRcclxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldmVudCl7XHJcbiAgICAgICAgdmFyIGlzQ2xpY2tJbnNpZGUgPSBhQ29udGFpbmVyLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgdmFyIGJ1dHRvbkNsaWNrID0gYnV0dG9uLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XHJcbiAgICAgICAgICBpZiAoIWlzQ2xpY2tJbnNpZGUpIHtcclxuICAgICAgICAgICAgYVByb2dyZXNzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgfSBcclxuICAgICAgICAgIGVsc2UgaWYoYnV0dG9uQ2xpY2spIHtcclxuICAgICAgICAgICAgYVByb2dyZXNzLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFQcm9ncmVzcy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGZ1bmN0aW9uIHRvIG1hbmFnZSBwcm9ncmVzcyBiYXIgdXBkYXRlcyAtIG9yaWdpbmFsbHkgZnJvbSBIaWdoIENvbnZlcnNpb24gRm9ybXMgY291cnNlXHJcbiAgICB0aGlzLl9Qcm9ncmVzc1RyYWNrZXIgPSBmdW5jdGlvbiAoaW5wdXRzLCBwcm9ncmVzc0Jhcikge1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIHRoaXMucHJvZ3Jlc3NCYXIgPSBwcm9ncmVzc0JhcjtcclxuICAgICAgdGhpcy5pbnB1dHMgPSBpbnB1dHM7XHJcblxyXG4gICAgICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgICAgIGlucHV0LmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGlucHV0LnNlbGVjdG9yKTtcclxuICAgICAgICBpbnB1dC5hZGRlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlucHV0LmlzVmFsaWQgPSBudWxsO1xyXG5cclxuICAgICAgICBpbnB1dC5lbGVtZW50Lm9uaW5wdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpbnB1dC5pc1ZhbGlkID0gc2VsZi5fZGV0ZXJtaW5lU3RhdHVzKGlucHV0KTtcclxuICAgICAgICAgIHNlbGYuX2FkanVzdFByb2dyZXNzSWZOZWNlc3NhcnkoaW5wdXQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fZGV0ZXJtaW5lU3RhdHVzID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIGlzVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoaW5wdXQuZWxlbWVudC52YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlzVmFsaWQgPSBpc1ZhbGlkICYmIGlucHV0LmVsZW1lbnQudmFsaWRhdGUoKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLl9hZGp1c3RQcm9ncmVzc0lmTmVjZXNzYXJ5ID0gZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgdmFyIG5ld0Ftb3VudCA9IHRoaXMucHJvZ3Jlc3NCYXIudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChpbnB1dC5hZGRlZCAmJiAhaW5wdXQuaXNWYWxpZCkge1xyXG4gICAgICAgICAgbmV3QW1vdW50ID0gbmV3QW1vdW50IC0gaW5wdXQuYW1vdW50O1xyXG4gICAgICAgICAgaW5wdXQuYWRkZWQgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFpbnB1dC5hZGRlZCAmJiBpbnB1dC5pc1ZhbGlkKSB7XHJcbiAgICAgICAgICBuZXdBbW91bnQgPSBuZXdBbW91bnQgKyBpbnB1dC5hbW91bnQ7XHJcbiAgICAgICAgICBpbnB1dC5hZGRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NCYXIudmFsdWUgPSBuZXdBbW91bnQ7XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG5cclxuICB9O1xyXG5cclxuICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcclxuXHJcbiAgQ29udHJvbGxlciBlbmRcclxuXHJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4vKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcclxuXHJcbk1WQyBlbmRcclxuXHJcbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyIsIi8qPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IFxyXG5cclxuICBHb29nbGUgR2VvbG9jYXRlIEFQSSBcclxuXHJcbiAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXHJcblxyXG4vLyBUaGlzIGV4YW1wbGUgZGlzcGxheXMgYW4gYWRkcmVzcyBmb3JtLCB1c2luZyB0aGUgYXV0b2NvbXBsZXRlIGZlYXR1cmVcclxuICAgICAgLy8gb2YgdGhlIEdvb2dsZSBQbGFjZXMgQVBJIHRvIGhlbHAgdXNlcnMgZmlsbCBpbiB0aGUgaW5mb3JtYXRpb24uXHJcblxyXG4gICAgICAvLyBUaGlzIGV4YW1wbGUgcmVxdWlyZXMgdGhlIFBsYWNlcyBsaWJyYXJ5LiBJbmNsdWRlIHRoZSBsaWJyYXJpZXM9cGxhY2VzXHJcbiAgICAgIC8vIHBhcmFtZXRlciB3aGVuIHlvdSBmaXJzdCBsb2FkIHRoZSBBUEkuIEZvciBleGFtcGxlOlxyXG4gICAgICAvLyA8c2NyaXB0IHNyYz1cImh0dHBzOi8vbWFwcy5nb29nbGVhcGlzLmNvbS9tYXBzL2FwaS9qcz9rZXk9WU9VUl9BUElfS0VZJmxpYnJhcmllcz1wbGFjZXNcIj5cclxuICAgICAgdmFyIHBsYWNlU2VhcmNoLCBhdXRvY29tcGxldGU7XHJcbiAgICAgIHZhciBjb21wb25lbnRGb3JtID0ge1xyXG4gICAgICAgIHN0cmVldF9udW1iZXI6ICdzaG9ydF9uYW1lJyxcclxuICAgICAgICByb3V0ZTogJ2xvbmdfbmFtZScsXHJcbiAgICAgICAgbG9jYWxpdHk6ICdsb25nX25hbWUnLFxyXG4gICAgICAgIGFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMTogJ3Nob3J0X25hbWUnLFxyXG4gICAgICAgIGNvdW50cnk6ICdsb25nX25hbWUnLFxyXG4gICAgICAgIHBvc3RhbF9jb2RlOiAnc2hvcnRfbmFtZSdcclxuICAgICAgfTtcclxuICAgICAgZnVuY3Rpb24gaW5pdEF1dG9jb21wbGV0ZSgpIHtcclxuICAgICAgICAvLyBDcmVhdGUgdGhlIGF1dG9jb21wbGV0ZSBvYmplY3QsIHJlc3RyaWN0aW5nIHRoZSBzZWFyY2ggdG8gZ2VvZ3JhcGhpY2FsXHJcbiAgICAgICAgLy8gbG9jYXRpb24gdHlwZXMuXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlID0gbmV3IGdvb2dsZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGUoXHJcbiAgICAgICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXZlbnQtYWRkcmVzcycpKSxcclxuICAgICAgICAgICAge3R5cGVzOiBbJ2dlb2NvZGUnXX0pO1xyXG5cclxuICAgICAgICAvLyBXaGVuIHRoZSB1c2VyIHNlbGVjdHMgYW4gYWRkcmVzcyBmcm9tIHRoZSBkcm9wZG93biwgcG9wdWxhdGUgdGhlIGFkZHJlc3NcclxuICAgICAgICAvLyBmaWVsZHMgaW4gdGhlIGZvcm0uXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlLmFkZExpc3RlbmVyKCdwbGFjZV9jaGFuZ2VkJywgZmlsbEluQWRkcmVzcyk7XHJcblxyXG4gICAgICAgIC8vIG9iamVjdCBjcmVhdGVkIHRvIHBvcHVsYXRlIGRpZmZlcmVudCBhZGRyZXNzIGZpZWxkIHdoZW4gZmllbGQgaXMgYWN0aXZlXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlMiA9IG5ldyBnb29nbGUubWFwcy5wbGFjZXMuQXV0b2NvbXBsZXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaWZmLWdlby1hZGRyZXNzJyksIHsgdHlwZXM6IFsgJ2dlb2NvZGUnIF0gfSk7XHJcbiAgICAgICAgYXV0b2NvbXBsZXRlMi5hZGRMaXN0ZW5lcigncGxhY2VfY2hhbmdlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZmlsbEluQWRkcmVzcygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBmaWxsSW5BZGRyZXNzKCkge1xyXG4gICAgICAgIC8vIEdldCB0aGUgcGxhY2UgZGV0YWlscyBmcm9tIHRoZSBhdXRvY29tcGxldGUgb2JqZWN0LlxyXG4gICAgICAgIHZhciBwbGFjZSA9IGF1dG9jb21wbGV0ZS5nZXRQbGFjZSgpO1xyXG5cclxuICAgICAgICAvLyBHZXQgZWFjaCBjb21wb25lbnQgb2YgdGhlIGFkZHJlc3MgZnJvbSB0aGUgcGxhY2UgZGV0YWlsc1xyXG4gICAgICAgIC8vIGFuZCBmaWxsIHRoZSBjb3JyZXNwb25kaW5nIGZpZWxkIG9uIHRoZSBmb3JtLlxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBCaWFzIHRoZSBhdXRvY29tcGxldGUgb2JqZWN0IHRvIHRoZSB1c2VyJ3MgZ2VvZ3JhcGhpY2FsIGxvY2F0aW9uLFxyXG4gICAgICAvLyBhcyBzdXBwbGllZCBieSB0aGUgYnJvd3NlcidzICduYXZpZ2F0b3IuZ2VvbG9jYXRpb24nIG9iamVjdC5cclxuICAgICAgZnVuY3Rpb24gZ2VvbG9jYXRlKCkge1xyXG4gICAgICAgIGlmIChuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pIHtcclxuICAgICAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24oZnVuY3Rpb24ocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgdmFyIGdlb2xvY2F0aW9uID0ge1xyXG4gICAgICAgICAgICAgIGxhdDogcG9zaXRpb24uY29vcmRzLmxhdGl0dWRlLFxyXG4gICAgICAgICAgICAgIGxuZzogcG9zaXRpb24uY29vcmRzLmxvbmdpdHVkZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IGdvb2dsZS5tYXBzLkNpcmNsZSh7XHJcbiAgICAgICAgICAgICAgY2VudGVyOiBnZW9sb2NhdGlvbixcclxuICAgICAgICAgICAgICByYWRpdXM6IHBvc2l0aW9uLmNvb3Jkcy5hY2N1cmFjeVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlLnNldEJvdW5kcyhjaXJjbGUuZ2V0Qm91bmRzKCkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAvKj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBcclxuXHJcbiAgR29vZ2xlIEdlb2xvY2F0ZSBBUEkgZW5kXHJcblxyXG4gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qLyJdfQ==
